{
  "program": {
    "records": [],
    "functions": [
      {
        "function": {
          "name": "fart",
          "returns": "void",
          "arguments": [
            {
              "type": {
                "name": "i32"
              },
              "name": "loudness"
            },
            {
              "type": {
                "name": "i32"
              },
              "name": "smell"
            }
          ],
          "body": [
            {
              "var declaration": {
                "var": "power_rating",
                "type": "i32",
                "initializer": {
                  "binary": {
                    "a": {
                      "var": "loudness"
                    },
                    "op": "*",
                    "b": {
                      "call": {
                        "var": "pow"
                      },
                      "args": [
                        {
                          "var": "smell"
                        },
                        2
                      ]
                    }
                  }
                }
              }
            }
          ]
        }
      },
      {
        "function": {
          "name": "somar",
          "returns": "i32",
          "arguments": [
            {
              "name": "a"
            },
            {
              "name": "b"
            }
          ],
          "body": [
            {
              "return": {
                "binary": {
                  "a": {
                    "var": "a"
                  },
                  "op": "+",
                  "b": {
                    "var": "b"
                  }
                }
              }
            }
          ]
        }
      },
      {
        "function": {
          "name": "bark",
          "returns": "void",
          "arguments": [],
          "body": [
            {
              "property": {
                "owner": {
                  "var": "console"
                },
                "field": {
                  "call": {
                    "var": "log"
                  },
                  "args": [
                    {
                      "text": "The doggy went:"
                    }
                  ]
                }
              }
            },
            {
              "var declaration": {
                "var": "barks",
                "type": "i32",
                "initializer": 10
              }
            },
            {
              "while": {
                "condition": {
                  "binary": {
                    "a": {
                      "var": "barks"
                    },
                    "op": ">",
                    "b": 0
                  }
                },
                "body": [
                  {
                    "assignment": {
                      "op": "=",
                      "left": {
                        "var": "barks"
                      },
                      "right": {
                        "binary": {
                          "a": {
                            "var": "barks"
                          },
                          "op": "-",
                          "b": 1
                        }
                      }
                    }
                  },
                  {
                    "property": {
                      "owner": {
                        "var": "console"
                      },
                      "field": {
                        "call": {
                          "var": "log"
                        },
                        "args": [
                          {
                            "text": "WOOF!"
                          }
                        ]
                      }
                    }
                  },
                  {
                    "assignment": {
                      "op": "=",
                      "left": {
                        "var": "times"
                      },
                      "right": {
                        "binary": {
                          "a": {
                            "var": "times"
                          },
                          "op": "+",
                          "b": 1
                        }
                      }
                    }
                  },
                  {
                    "branch": {
                      "if": {
                        "condition": {
                          "binary": {
                            "a": {
                              "var": "times"
                            },
                            "op": "==",
                            "b": 1
                          }
                        },
                        "body": [
                          {
                            "property": {
                              "owner": {
                                "var": "console"
                              },
                              "field": {
                                "call": {
                                  "var": "log"
                                },
                                "args": [
                                  {
                                    "text": "First woof"
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      "elseif_0": {
                        "condition": {
                          "binary": {
                            "a": {
                              "var": "times"
                            },
                            "op": "==",
                            "b": 2
                          }
                        },
                        "body": [
                          {
                            "property": {
                              "owner": {
                                "var": "console"
                              },
                              "field": {
                                "call": {
                                  "var": "log"
                                },
                                "args": [
                                  {
                                    "text": "Second woof"
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      "elseif_1": {
                        "condition": {
                          "binary": {
                            "a": {
                              "var": "times"
                            },
                            "op": "==",
                            "b": 3
                          }
                        },
                        "body": [
                          {
                            "property": {
                              "owner": {
                                "var": "console"
                              },
                              "field": {
                                "call": {
                                  "var": "log"
                                },
                                "args": [
                                  {
                                    "text": "Third woof"
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      "else": {
                        "body": [
                          {
                            "property": {
                              "owner": {
                                "var": "console"
                              },
                              "field": {
                                "call": {
                                  "var": "log"
                                },
                                "args": [
                                  {
                                    "text": "SHUT UP, DOG"
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "globals": [
      {
        "var declaration": {
          "var": "times",
          "type": "i32",
          "initializer": 0
        }
      }
    ],
    "body": [
      {
        "call": {
          "var": "bark"
        },
        "args": []
      },
      {
        "assignment": {
          "op": "=",
          "left": {
            "var": "x"
          },
          "right": 99
        }
      },
      {
        "assignment": {
          "op": "=",
          "left": {
            "var": "y"
          },
          "right": 99
        }
      },
      {
        "assignment": {
          "op": "=",
          "left": {
            "var": "z"
          },
          "right": 99
        }
      },
      {
        "property": {
          "owner": {
            "var": "console"
          },
          "field": {
            "call": {
              "var": "log"
            },
            "args": [
              {
                "binary": {
                  "a": {
                    "binary": {
                      "a": {
                        "text": "The dog barked "
                      },
                      "op": "+",
                      "b": {
                        "var": "times"
                      }
                    }
                  },
                  "op": "+",
                  "b": {
                    "text": " times!"
                  }
                }
              }
            ]
          }
        }
      },
      {
        "property": {
          "owner": {
            "var": "console"
          },
          "field": {
            "call": {
              "var": "log"
            },
            "args": [
              {
                "text": "This is an example of side effect"
              }
            ]
          }
        }
      },
      {
        "property": {
          "owner": {
            "var": "console"
          },
          "field": {
            "call": {
              "var": "log"
            },
            "args": [
              {
                "call": {
                  "var": "somar"
                },
                "args": [
                  {
                    "call": {
                      "var": "somar"
                    },
                    "args": [
                      {
                        "var": "x"
                      },
                      {
                        "var": "y"
                      }
                    ]
                  },
                  {
                    "var": "z"
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  }
}